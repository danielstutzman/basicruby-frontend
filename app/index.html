<html>
  <head>
    <meta charset='UTF-8'>
    <title>Basic Ruby</title>
    <link rel='stylesheet' href='/stylesheets/all.css'>
  </head>
  <body>
    <div id='throbber'></div>
    <div id='screen'>
      <!-- START PRE-RENDERED CONTENT -->
      <!-- END PRE-RENDERED CONTENT -->
    </div>
    <div class='debugger-parent'></div>

    <script>
      var oldDebug = window.console.debug;
      window.console.debug = function() {
        if (arguments[0] === 'Download the React DevTools for a better development experience: http://fb.me/react-devtools') { return; }
        oldDebug.apply(window.console, arguments);
      };

      window.onerror = function(message, url, lineNumber) {
        window.alert('See console: ' + message + " at " + url +
          ":" + lineNumber);
      };
    </script>

    <script src='/javascripts/vendor.js'></script>
    <script>
      function require(name) {
        var lib = null;
        if (name === 'react') { lib = window.React; }
        else if (name === 'react-dom') { lib = window.ReactDOM; }
        else if (name === 'underscore') { lib = window._; }
        else if (name === 'opal') { lib = window.Opal; }
        else if (name === 'redux') { lib = window.Redux; }
        else if (name === 'react-addons-update') { lib = window.React.addons.update; }
        else {
          document.querySelector('#throbber').style.display = 'none';
          throw new Error("Unknown library '" + name + "'");
        }

        if (lib === null) {
          document.querySelector('#throbber').style.display = 'none';
          throw new Error("Can't find global for library '" + name + "'");
        }
        return lib;
      }
    </script>
    <script src='/javascripts/browserified.js'></script>
  </body>
</html>
